var $event=$.event,$special,resizeTimeout;$special=$event.special.debouncedresize={setup:function(){$(this).on("resize",$special.handler)},teardown:function(){$(this).off("resize",$special.handler)},handler:function(e,t){var n=this,r=arguments,i=function(){e.type="debouncedresize";$event.dispatch.apply(n,r)};if(resizeTimeout){clearTimeout(resizeTimeout)}t?i():resizeTimeout=setTimeout(i,$special.threshold)},threshold:250};var BLANK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";$.fn.imagesLoaded=function(e){function a(){var r=$(o),s=$(u);if(n){if(u.length){n.reject(i,r,s)}else{n.resolve(i)}}if($.isFunction(e)){e.call(t,i,r,s)}}function f(e,t){if(e.src===BLANK||$.inArray(e,s)!==-1){return}s.push(e);if(t){u.push(e)}else{o.push(e)}$.data(e,"imagesLoaded",{isBroken:t,src:e.src});if(r){n.notifyWith($(e),[t,i,$(o),$(u)])}if(i.length===s.length){setTimeout(a);i.unbind(".imagesLoaded")}}var t=this,n=$.isFunction($.Deferred)?$.Deferred():0,r=$.isFunction(n.notify),i=t.find("img").add(t.filter("img")),s=[],o=[],u=[];if($.isPlainObject(e)){$.each(e,function(t,r){if(t==="callback"){e=r}else{if(n){n[t](r)}}})}if(!i.length){a()}else{i.bind("load.imagesLoaded error.imagesLoaded",function(e){f(e.target,e.type==="error")}).each(function(e,t){var n=t.src;var r=$.data(t,"imagesLoaded");if(r&&r.src===n){f(t,r.isBroken);return}if(t.complete&&t.naturalWidth!==undefined){f(t,t.naturalWidth===0||t.naturalHeight===0);return}if(t.readyState||t.complete){t.src=BLANK;t.src=n}})}return n?n.promise(t):t};$(function(){$.elastic_grid={version:"1.0"};$.fn.elastic_grid=function(e){function h(e,t){e.each(function(e,n){if(classie.has(n,t)){classie.toggle(n,"animate");classie.remove(n,"hidden")}else{classie.add(n,"hidden");classie.remove(n,"animate")}})}function p(e){var t=e.toLowerCase().replace(" ","-");if(e!=""){var n=$("<li>");var r=$("<a>",{html:e,"data-filter":"."+t,href:"#","class":"filter"}).appendTo(n);n.appendTo(f)}}function k(e){v=v.add(e);e.each(function(){var e=$(this);e.data({offsetTop:e.offset().top,height:e.height()})});O(e)}function L(e){v.each(function(){var t=$(this);t.data("offsetTop",t.offset().top);if(e){t.data("height",t.height())}})}function A(){O(v);w.on("debouncedresize",function(){y=0;g=-1;L();M();var e=$.data(this,"preview");if(typeof e!="undefined"){D()}})}function O(e){e.on("click","span.og-close",function(){D();e.children().find("figure").css("top","100%");return false}).children("a").on("click",function(e){var t=$(this).parent();t.removeClass("animate");m===t.index()?D($(this)):_(t);return false})}function M(){E={width:w.width(),height:w.height()}}function _(e){D();var t=$.data(this,"preview"),n=e.data("offsetTop");y=0;if(typeof t!="undefined"){if(g!==n){if(n>g){y=t.height}D()}else{t.update(e);return false}}g=n;t=$.data(this,"preview",new P(e));t.open()}function D(){v.find(".og-pointer").remove();m=-1;var e=$.data(this,"preview");if(typeof e=="undefined"){}else{e.close()}$.removeData(this,"preview")}function P(t){this.$item=t;this.expandedIdx=this.$item.index();this.create();this.update();e.exOnClickEvent()}var t=Math.floor(Math.random()*6);var n=["moveup","scaleup","fallperspective","fly","flip","helix","popup"];e.filterEffect=e.filterEffect=="random"?n[t]:e.filterEffect;e=$.extend({},{items:null,filterEffect:"",hoverDirection:true,hoverDelay:0,hoverInverse:false,expandingHeight:500,expandingSpeed:300,exHideInfoBoxTitle:false,exControls:false,exControlsCSS:{position:"absolute",cursor:"pointer",padding:5,marginTop:"15%"},exControlsNextText:"Next",exControlsNextClass:null,exControlsPrevText:"Prev",exControlsPrevClass:null,exOnClickEvent:function(){},callback:function(){}},e);var r=$(this);var i=e.items.length;if(i==0){return false}r.html('<div class="wagwep-container"><nav id="porfolio-nav" class="clearfix"><ul id="portfolio-filter" class="nav nav-tabs clearfix"></ul></nav></div>');var s="";var o=$('<ul id="og-grid" class="og-grid"></ul>');for(itemIdx=0;itemIdx<i;itemIdx++){if(e.items[itemIdx]!=undefined){var u=e.items[itemIdx];liObject=$("<li></li>");tags=u.tags;strTag="";for(var a=tags.length-1;a>=0;a--){strTag+=","+tags[a]}strTag=strTag.substring(1);liObject.attr("data-tags",strTag);aObject=$("<a></a>");aObject.attr("href","javascript:;;");imgObject=$("<img/>");imgObject.attr("src",u.thumbnail[0]);imgObject.attr("data-largesrc",u.large[0]);spanObject=$("<span></span>");spanObject.html(u.title);figureObject=$("<figure></figure>");figureObject.append(spanObject);imgObject.appendTo(aObject);figureObject.appendTo(aObject);aObject.appendTo(liObject);liObject.appendTo(o)}}if(e.filterEffect==""){e.filterEffect="moveup"}o.addClass("effect-"+e.filterEffect);o.appendTo(r);if(e.hoverDirection==true){o.find("li").each(function(){$(this).hoverdir({hoverDelay:e.hoverDelay,inverse:e.hoverInverse})})}var f=r.find("#portfolio-filter");var l=o.find("li"),c={};numOfTag=0;l.each(function(e){var t=$(this),n=t.data("tags").split(",");t.attr("data-id",e);t.addClass("all");$.each(n,function(e,n){n=$.trim(n);t.addClass(n.toLowerCase().replace(" ","-"));if(!(n in c)){c[n]=[];numOfTag++}c[n].push(t)})});if(numOfTag>1){p("All");$.each(c,function(e,t){p(e)})}else{f.remove()}f.find("a").bind("click",function(e){d.find("li.og-expanded").find("a").trigger("click");d.find(".og-close").trigger("click");$this=$(this);$this.css("outline","none");f.find(".current").removeClass("current");$this.parent().addClass("current");var t=$this.text().toLowerCase().replace(" ","-");var n=i;o.find("li").each(function(e,r){classie.remove(r,"hidden");classie.remove(r,"animate");if(!--n){setTimeout(function(){h(o.find("li"),t)},1)}});return false});f.find("li:first").addClass("current");var d=o,v=d.children("li"),m=-1,g=-1,y=0,b=10,w=$(window),E,S=$("html, body"),x={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},T=x[Modernizr.prefixed("transition")],N=Modernizr.csstransitions,C={minHeight:e.expandingHeight,speed:e.expandingSpeed,easing:"ease"};P.prototype={create:function(){if(e.exControls==true){this.$itemNext=$("<span>"+e.exControlsNextText+"</span>");this.$itemNext.css({right:0});if(e.exControlsCSS!=null)this.$itemNext.css(e.exControlsCSS);if(e.exControlsNextClass!=null)this.$itemNext.addClass(e.exControlsNextClass);this.$itemNext.click(function(){var e=$(this).parent().parent().parent().parent().children();e.find("figure").css("top","100%");var t=$(this).parent().parent().parent();var n=t.data("tags");var r=t.index();e.removeClass("animate");if($("#portfolio-filter").find("li[class=current]").children().data("filter")==".all"){if($(this).parent().parent().parent().next().length!=0)_($(this).parent().parent().parent().next());setTimeout(function(){$("html,body").animate({scrollTop:$(".og-expander").length>1?$(".og-expander")[1].offsetTop:$(".og-expander")[0].offsetTop},1e3)},1e3);return}var i=[];for(var s=0;s<e.length;s++){if(n.indexOf(",")>=0){var o=n.split(",");for(var u=0;u<o.length;u++){if(e.eq(s).data("tags").indexOf(o[u])>=0){if($.inArray(s,i)<0){i.push(s)}}}}else{if(e.eq(s).data("tags").indexOf(n)>=0){i.push(s)}}}e.removeClass("animate");if(i.length>1&&$.inArray(r,i)!=i.length-1)_(e.eq(i[$.inArray(r,i)+1]));setTimeout(function(){$("html,body").animate({scrollTop:$(".og-expander").length>1?$(".og-expander")[1].offsetTop:$(".og-expander")[0].offsetTop},1e3)},1e3)});this.$itemPrev=$("<span>"+e.exControlsPrevText+"</span>");this.$itemPrev.css({left:0});if(e.exControlsCSS!=null)this.$itemPrev.css(e.exControlsCSS);if(e.exControlsPrevClass!=null)this.$itemPrev.addClass(e.exControlsPrevClass);this.$itemPrev.click(function(){var e=$(this).parent().parent().parent().parent().children();e.find("figure").css("top","100%");var t=$(this).parent().parent().parent();var n=t.data("tags");var r=t.index();e.removeClass("animate");if($("#portfolio-filter").find("li[class=current]").children().data("filter")==".all"){if($(this).parent().parent().parent().prev().length!=0)_($(this).parent().parent().parent().prev());setTimeout(function(){$("html,body").animate({scrollTop:$(".og-expander").length>1?$(".og-expander")[1].offsetTop:$(".og-expander")[0].offsetTop},1e3)},1e3);return}var i=[];for(var s=0;s<e.length;s++){if(n.indexOf(",")>=0){var o=n.split(",");for(var u=0;u<o.length;u++){if(e.eq(s).data("tags").indexOf(o[u])>=0){if($.inArray(s,i)<0){i.push(s)}}}}else{if(e.eq(s).data("tags").indexOf(n)>=0){i.push(s)}}}if(i.length>1)_(e.eq(i[$.inArray(r,i)-1]));setTimeout(function(){$("html,body").animate({scrollTop:$(".og-expander").length>1?$(".og-expander")[1].offsetTop:$(".og-expander")[0].offsetTop},1e3)},1e3)})}this.$title=$("<h3></h3>");this.$description=$("<p></p>");this.$href=$('<a href="#">Visit website</a>');this.$detailButtonList=$('<span class="buttons-list"></span>');this.$details=$('<div class="og-details"></div>').append(this.$title,this.$description,this.$detailButtonList);this.$loading=$('<div class="og-loading"></div>');this.$fullimage=$('<div class="og-fullimg"></div>').append(this.$loading);this.$closePreview=$('<span class="og-close"></span>');this.$previewInner=$('<div class="og-expander-inner"></div>').append(this.$itemNext,this.$itemPrev,this.$closePreview,this.$fullimage,this.$details);this.$previewEl=$('<div class="og-expander"></div>').append(this.$previewInner);this.$item.append($('<div class="og-pointer"></div>'));this.$item.append(this.getEl());if(N){this.setTransition()}},update:function(t){if(t){this.$item=t}if(m!==-1){var n=v.eq(m);n.removeClass("og-expanded");this.$item.addClass("og-expanded");this.positionPreview()}m=this.$item.index();if(typeof e.items[m]==="undefined"){}else{eldata=e.items[m];if(e.exHideInfoBoxTitle==false)this.$title.html(eldata.title);this.$description.html(eldata.description);this.$detailButtonList.html("");urlList=eldata.button_list;if(urlList.length>0){for(a=0;a<urlList.length;a++){var r=$("<a></a>");r.addClass("link-button");if(a==0){r.addClass("first")}r.attr("href",urlList[a]["url"]);r.html(urlList[a]["title"]);this.$detailButtonList.append(r)}}var i=this;if(typeof i.$largeImg!="undefined"){i.$largeImg.remove()}glarge=eldata.large;gthumbs=eldata.thumbnail;if(glarge.length==gthumbs.length&&glarge.length>0){var s=$("<ul></ul>");for(a=0;a<gthumbs.length;a++){var o=$("<li></li>");var r=$('<a href="javascript:;;"></a>');var u=$("<img/>");u.addClass("related_photo");if(a==0){u.addClass("selected")}u.attr("src",gthumbs[a]);u.attr("data-large",glarge[a]);u.css({height:"100px"});r.append(u);o.append(r);s.append(o)}s.addClass("elastislide-list");s.elastislide();var f=$('<div class="elastislide-wrapper elastislide-horizontal"></div>');f.append(s).find(".related_photo").bind("click",function(){f.find(".selected").removeClass("selected");$(this).addClass("selected");$largePhoto=$(this).data("large");$(".og-fullimg").fadeOut(100,function(){$(this).fadeIn(500).html($largePhoto)})});i.$details.prepend('<div class="infosep"></div>');i.$details.prepend(f)}else{i.$details.find(".infosep, .og-grid-small").remove()}$(".og-fullimg").html(eldata.large[0])}},open:function(){setTimeout($.proxy(function(){this.setHeights();this.positionPreview()},this),25)},close:function(){var e=this,t=function(){if(N){$(this).off(T)}e.$item.removeClass("og-expanded");e.$previewEl.remove()};setTimeout($.proxy(function(){if(typeof this.$largeImg!=="undefined"){this.$largeImg.fadeOut("fast")}this.$previewEl.css("height",0);var e=v.eq(this.expandedIdx);e.css("height",e.data("height")).on(T,t);if(!N){t.call()}},this),25);return false},calcHeight:function(){var e=E.height-this.$item.data("height")-b,t=E.height;if(e<C.minHeight){e=C.minHeight;t=C.minHeight+this.$item.data("height")+b}this.height=e;this.itemHeight=t},setHeights:function(){var e=this,t=function(){if(N){e.$item.off(T)}e.$item.addClass("og-expanded")};this.calcHeight();this.$previewEl.css("height",this.height);this.$item.css("height",this.itemHeight).on(T,t);if(!N){t.call()}},positionPreview:function(){var e=this.$item.data("offsetTop"),t=this.$previewEl.offset().top-y,n=this.height+this.$item.data("height")+b<=E.height?e:this.height<E.height?t-(E.height-this.height):t;S.animate({scrollTop:n},C.speed)},setTransition:function(){this.$previewEl.css("transition","height "+C.speed+"ms "+C.easing);this.$item.css("transition","height "+C.speed+"ms "+C.easing)},getEl:function(){return this.$previewEl}};d.imagesLoaded(function(){L(true);M();A()})}});(function(e,t,n){e.HoverDir=function(t,n){this.$el=e(n);this._init(t)};e.HoverDir.defaults={speed:300,easing:"ease",hoverDelay:0,inverse:false};e.HoverDir.prototype={_init:function(t){this.options=e.extend(true,{},e.HoverDir.defaults,t);this.transitionProp="all "+this.options.speed+"ms "+this.options.easing;this.support=Modernizr.csstransitions;this._loadEvents()},_loadEvents:function(){var t=this;this.$el.on("mouseenter.hoverdir, mouseleave.hoverdir",function(n){var r=e(this),i=r.find("figure"),s=t._getDir(r,{x:n.pageX,y:n.pageY}),o=t._getStyle(s);if(n.type==="mouseenter"){i.hide().css(o.from);clearTimeout(t.tmhover);t.tmhover=setTimeout(function(){i.show(0,function(){var n=e(this);if(t.support){n.css("transition",t.transitionProp)}t._applyAnimation(n,o.to,t.options.speed)})},t.options.hoverDelay)}else{if(t.support){i.css("transition",t.transitionProp)}clearTimeout(t.tmhover);t._applyAnimation(i,o.from,t.options.speed)}})},_getDir:function(e,t){var n=e.width(),r=e.height(),i=(t.x-e.offset().left-n/2)*(n>r?r/n:1),s=(t.y-e.offset().top-r/2)*(r>n?n/r:1),o=Math.round((Math.atan2(s,i)*(180/Math.PI)+180)/90+3)%4;return o},_getStyle:function(e){var t,n,r={left:"0px",top:"-100%"},i={left:"0px",top:"100%"},s={left:"-100%",top:"0px"},o={left:"100%",top:"0px"},u={top:"0px"},a={left:"0px"};switch(e){case 0:t=!this.options.inverse?r:i;n=u;break;case 1:t=!this.options.inverse?o:s;n=a;break;case 2:t=!this.options.inverse?i:r;n=u;break;case 3:t=!this.options.inverse?s:o;n=a;break}return{from:t,to:n}},_applyAnimation:function(t,n,r){e.fn.applyStyle=this.support?e.fn.css:e.fn.animate;t.stop().applyStyle(n,e.extend(true,[],{duration:r+"ms"}))}};var r=function(e){if(t.console){t.console.error(e)}};e.fn.hoverdir=function(t){var n=e.data(this,"hoverdir");if(typeof t==="string"){var i=Array.prototype.slice.call(arguments,1);this.each(function(){if(!n){r("cannot call methods on hoverdir prior to initialization; attempted to call method '"+t+"'");return}if(!e.isFunction(n[t])||t.charAt(0)==="_"){r("no such method '"+t+"' for hoverdir instance");return}n[t].apply(n,i)})}else{this.each(function(){if(n){n._init()}else{n=e.data(this,"hoverdir",new e.HoverDir(t,this))}})}return n}})(jQuery,window);(function(e,t,n){var r=e.event,i,s;i=r.special.debouncedresize={setup:function(){e(this).on("resize",i.handler)},teardown:function(){e(this).off("resize",i.handler)},handler:function(e,t){var n=this,o=arguments,u=function(){e.type="debouncedresize";r.dispatch.apply(n,o)};if(s){clearTimeout(s)}t?u():s=setTimeout(u,i.threshold)},threshold:150};var o="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(t){function h(){var n=e(f),s=e(l);if(i){if(l.length){i.reject(u,n,s)}else{i.resolve(u)}}if(e.isFunction(t)){t.call(r,u,n,s)}}function p(t,n){if(t.src===o||e.inArray(t,a)!==-1){return}a.push(t);if(n){l.push(t)}else{f.push(t)}e.data(t,"imagesLoaded",{isBroken:n,src:t.src});if(s){i.notifyWith(e(t),[n,u,e(f),e(l)])}if(u.length===a.length){setTimeout(h);u.unbind(".imagesLoaded")}}var r=this,i=e.isFunction(e.Deferred)?e.Deferred():0,s=e.isFunction(i.notify),u=r.find("img").add(r.filter("img")),a=[],f=[],l=[];if(e.isPlainObject(t)){e.each(t,function(e,n){if(e==="callback"){t=n}else{if(i){i[e](n)}}})}if(!u.length){h()}else{u.bind("load.imagesLoaded error.imagesLoaded",function(e){p(e.target,e.type==="error")}).each(function(t,r){var i=r.src;var s=e.data(r,"imagesLoaded");if(s&&s.src===i){p(r,s.isBroken);return}if(r.complete&&r.naturalWidth!==n){p(r,r.naturalWidth===0||r.naturalHeight===0);return}if(r.readyState||r.complete){r.src=o;r.src=i}})}return i?i.promise(r):r};var u=e(t),a=t.Modernizr;e.Elastislide=function(t,n){this.$el=e(n);this._init(t)};e.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(e,t,n){return false},onReady:function(){return false},onBeforeSlide:function(){return false},onAfterSlide:function(){return false}};e.Elastislide.prototype={_init:function(t){this.options=e.extend(true,{},e.Elastislide.defaults,t);var n=this,r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=r[a.prefixed("transition")];this.support=a.csstransitions&&a.csstransforms;this.current=this.options.start;this.isSliding=false;this.$items=this.$el.children("li");this.itemsCount=this.$items.length;if(this.itemsCount===0){return false}this._validate();this.$items.detach();this.$el.empty();this.$el.append(this.$items);this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>');this.hasTransition=false;this.hasTransitionTimeout=setTimeout(function(){n._addTransition()},100);this.$el.imagesLoaded(function(){n.$el.show();n._layout();n._configure();if(n.hasTransition){n._removeTransition();n._slideToItem(n.current);n.$el.on(n.transEndEventName,function(){n.$el.off(n.transEndEventName);n._setWrapperSize();n._addTransition();n._initEvents()})}else{clearTimeout(n.hasTransitionTimeout);n._setWrapperSize();n._initEvents();n._slideToItem(n.current);setTimeout(function(){n._addTransition()},25)}n.options.onReady()})},_validate:function(){if(this.options.speed<0){this.options.speed=500}if(this.options.minItems<1||this.options.minItems>this.itemsCount){this.options.minItems=1}if(this.options.start<0||this.options.start>this.itemsCount-1){this.options.start=0}if(this.options.orientation!="horizontal"&&this.options.orientation!="vertical"){this.options.orientation="horizontal"}},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>');this.$carousel=this.$el.parent();this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var e=this.$items.find("img:first");this.imgSize={width:e.outerWidth(true),height:e.outerHeight(true)};this._setItemsSize();this.options.orientation==="horizontal"?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height);this._addControls()},_addTransition:function(){if(this.support){this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing)}this.hasTransition=true},_removeTransition:function(){if(this.support){this.$el.css("transition","all 0s")}this.hasTransition=false},_addControls:function(){var t=this;this.$navigation=e('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper);this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(e){t._slide("prev");return false});this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(e){t._slide("next");return false})},_setItemsSize:function(){var e=this.options.orientation==="horizontal"?Math.floor(this.$carousel.width()/this.options.minItems)*100/this.$carousel.width():100;this.$items.css({width:e+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height});if(this.options.orientation==="vertical"){this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))}},_setWrapperSize:function(){if(this.options.orientation==="vertical"){this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})}},_configure:function(){this.fitCount=this.options.orientation==="horizontal"?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var t=this;u.on("debouncedresize.elastislide",function(){t._setItemsSize();t._configure();t._slideToItem(t.current)});this.$el.on(this.transEndEventName,function(){t._onEndTransition()});if(this.options.orientation==="horizontal"){this.$el.on({swipeleft:function(){t._slide("next")},swiperight:function(){t._slide("prev")}})}else{this.$el.on({swipeup:function(){t._slide("next")},swipedown:function(){t._slide("prev")}})}this.$el.on("click.elastislide","li",function(n){var r=e(this);t.options.onClick(r,r.index(),n)})},_destroy:function(e){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide");u.off(".elastislide");this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper);this.$items.css({width:"auto","max-width":"none","max-height":"none"});this.$navigation.remove();this.$wrapper.remove();if(e){e.call()}},_toggleControls:function(e,t){if(t){e==="next"?this.$navNext.show():this.$navPrev.show()}else{e==="next"?this.$navNext.hide():this.$navPrev.hide()}},_slide:function(t,r){if(this.isSliding){return false}this.options.onBeforeSlide();this.isSliding=true;var i=this,s=this.translation||0,o=this.options.orientation==="horizontal"?this.$items.outerWidth(true):this.$items.outerHeight(true),u=this.itemsCount*o,a=this.options.orientation==="horizontal"?this.$carousel.width():this.$carousel.height();if(r===n){var f=this.fitCount*o;if(f<0){return false}if(t==="next"&&u-(Math.abs(s)+f)<a){f=u-(Math.abs(s)+a);this._toggleControls("next",false);this._toggleControls("prev",true)}else{if(t==="prev"&&Math.abs(s)-f<0){f=Math.abs(s);this._toggleControls("next",true);this._toggleControls("prev",false)}else{var l=t==="next"?Math.abs(s)+Math.abs(f):Math.abs(s)-Math.abs(f);l>0?this._toggleControls("prev",true):this._toggleControls("prev",false);l<u-a?this._toggleControls("next",true):this._toggleControls("next",false)}}r=t==="next"?s-f:s+f}else{var f=Math.abs(r);if(Math.max(u,a)-f<a){r=-(Math.max(u,a)-a)}f>0?this._toggleControls("prev",true):this._toggleControls("prev",false);Math.max(u,a)-a>f?this._toggleControls("next",true):this._toggleControls("next",false)}this.translation=r;if(s===r){this._onEndTransition();return false}if(this.support){this.options.orientation==="horizontal"?this.$el.css("transform","translateX("+r+"px)"):this.$el.css("transform","translateY("+r+"px)")}else{e.fn.applyStyle=this.hasTransition?e.fn.animate:e.fn.css;var c=this.options.orientation==="horizontal"?{left:r}:{top:r};this.$el.stop().applyStyle(c,e.extend(true,[],{duration:this.options.speed,complete:function(){i._onEndTransition()}}))}if(!this.hasTransition){this._onEndTransition()}},_onEndTransition:function(){this.isSliding=false;this.options.onAfterSlide()},_slideTo:function(e){var e=e||this.current,t=Math.abs(this.translation)||0,n=this.options.orientation==="horizontal"?this.$items.outerWidth(true):this.$items.outerHeight(true),r=t+this.$carousel.width(),i=Math.abs(e*n);if(i+n>r||i<t){this._slideToItem(e)}},_slideToItem:function(e){var t=this.options.orientation==="horizontal"?e*this.$items.outerWidth(true):e*this.$items.outerHeight(true);this._slide("",-t)},add:function(e){var t=this,n=this.current,r=this.$items.eq(this.current);this.$items=this.$el.children("li");this.itemsCount=this.$items.length;this.current=r.index();this._setItemsSize();this._configure();this._removeTransition();n<this.current?this._slideToItem(this.current):this._slide("next",this.translation);setTimeout(function(){t._addTransition()},25);if(e){e.call()}},setCurrent:function(e,t){this.current=e;this._slideTo();if(t){t.call()}},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(e){this._destroy(e)}};var f=function(e){if(t.console){t.console.error(e)}};e.fn.elastislide=function(t){var n=e.data(this,"elastislide");if(typeof t==="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){if(!n){f("cannot call methods on elastislide prior to initialization; attempted to call method '"+t+"'");return}if(!e.isFunction(n[t])||t.charAt(0)==="_"){f("no such method '"+t+"' for elastislide self");return}n[t].apply(n,r)})}else{this.each(function(){if(n){n._init()}else{n=e.data(this,"elastislide",new e.Elastislide(t,this))}})}return n}})(jQuery,window)